"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.handleException=handleException;exports.BAD_IMPLEMENTATION=exports.BAD_DATA=exports.NOT_FOUND=exports.default=void 0;var _debug=_interopRequireDefault(require("debug"));var _boom=_interopRequireDefault(require("@hapi/boom"));var _shinkansenSignals=require("shinkansen-signals");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const error=(0,_debug.default)('zashiki:transformer:exception');const transformException=({code=500,name='Internal Server Error',message}={})=>({code,name,...(message?{message}:{})});var _default=e=>({status:_shinkansenSignals.Signals.FAILURE,exception:transformException(e)});exports.default=_default;const NOT_FOUND='https://tools.ietf.org/html/rfc7231#section-6.5.4';exports.NOT_FOUND=NOT_FOUND;const BAD_DATA='https://tools.ietf.org/html/rfc7231#section-6.5.1';exports.BAD_DATA=BAD_DATA;const BAD_IMPLEMENTATION='https://tools.ietf.org/html/rfc7231#section-6.5.1';exports.BAD_IMPLEMENTATION=BAD_IMPLEMENTATION;function handleException(e){const{code,message='No error message defined'}=e;if(code)error(code,message);else error(message);if(code===404)throw _boom.default.notFound(NOT_FOUND);throw _boom.default.badImplementation(BAD_IMPLEMENTATION);}