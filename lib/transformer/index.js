"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.transformAll=exports.transformOne=exports.transformFields=exports.transformField=exports.transformTitleToLegend=exports.transformTitleToLabel=exports.transformDescriptionToHint=exports.getName=exports.getComponent=exports.getType=void 0;var _fromSchema=_interopRequireDefault(require("shinkansen-transmission/lib/transmission/from-schema"));var _intoValues=_interopRequireDefault(require("shinkansen-transmission/lib/transmission/into-values"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const getType=({type}={})=>type?{type}:{};exports.getType=getType;const getComponent=({component}={})=>component?{component}:{};exports.getComponent=getComponent;const getName=({name}={})=>name?{name}:{};exports.getName=getName;const transformDescriptionToHint=(field={},text)=>({...field,...(text?{hint:{text}}:{})});exports.transformDescriptionToHint=transformDescriptionToHint;const transformTitleToLabel=(field={},text)=>({...field,...(text?{label:{text}}:{})});exports.transformTitleToLabel=transformTitleToLabel;const transformTitleToLegend=(field={},text)=>({...field,...(text?{legend:{text}}:{})});exports.transformTitleToLegend=transformTitleToLegend;const transformField=({name,id=name,...field}={})=>({...field,...(name?{name}:{}),...(id?{id}:{})});exports.transformField=transformField;const transformFields=(fields=[])=>fields.map(transform);exports.transformFields=transformFields;const transformOne=({meta={},elements:{title,description,field}={}}={})=>({...getType(meta),...getComponent(meta),params:transformDescriptionToHint(transformTitleToLabel(transformField(field),title),description)});exports.transformOne=transformOne;const transformAll=({meta={},elements:{title,description,fields,...field}={}}={})=>({...getType(meta),...getComponent(meta),params:transformDescriptionToHint(transformTitleToLegend(transformField(field),title),description),fields:transformFields(fields)});exports.transformAll=transformAll;const transform=(schema={})=>{const{meta:{type}={}}=schema;return type==='object'||type==='array'?transformAll(schema):transformOne(schema);};var _default=(definition,response,components)=>transform((0,_fromSchema.default)(definition,(0,_intoValues.default)(response),components));exports.default=_default;